{"ast":null,"code":"var _jsxFileName = \"/home/balaji/hello-next/components/Comparator.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport '@shopify/polaris/styles.css';\nimport { AppProvider, Layout, Card, Scrollable, Page } from '@shopify/polaris';\nimport './Comparator.css';\nimport axios from 'axios';\nimport dynamic from 'next/dynamic'; // import MapsComp from './MapsComp'\n\nconst Pieplot = dynamic(() => import('./PiePlot'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./PiePlot')],\n    modules: ['./PiePlot']\n  }\n});\nconst MapsComp = dynamic(() => import('./MapsComp'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./MapsComp')],\n    modules: ['./MapsComp']\n  }\n});\n\nclass Comparator extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"stylesetter\", e => {\n      var n = e.target.parentElement.nextSibling;\n      var p = e.target.parentElement.previousSibling;\n      e.target.parentElement.style = \"background:#4157c559\";\n\n      while (n) {\n        n.style.background = \"white\";\n        n = n.nextSibling;\n      }\n\n      while (p) {\n        p.style.background = \"white\";\n        p = p.previousSibling;\n      }\n    });\n\n    _defineProperty(this, \"comparator\", (val, cat) => {\n      if (cat === 'A') {\n        this.setState({\n          valA: val\n        });\n      } else {\n        this.setState({\n          valB: val\n        });\n      }\n\n      if (this.state.valA !== \"\" && this.state.valB !== \"\") {\n        var tempArr = [];\n        tempArr.push(this.state.valA);\n        tempArr.push(this.state.valB);\n        this.setState({\n          loading: true\n        });\n        var param = {};\n        param['index'] = tempArr;\n        console.log(param);\n        axios.get('http://localhost:5000/rest/comparisor/', {\n          params: tempArr\n        }).then(result => {\n          console.log(result.data.result);\n          this.setState({\n            compres: result.data.result,\n            loading: false\n          });\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleClick\", e => {\n      this.stylesetter(e);\n      var par = {};\n      par['value'] = e.target.textContent;\n      console.log(par);\n      axios.get('http://localhost:5000/rest/pie/', {\n        params: par\n      }).then(result => {\n        this.setState({\n          weight1: result.data.pie['weight'],\n          variable1: result.data.pie['variable'],\n          pieLoading1: true\n        });\n        this.comparator(par['value'], 'A');\n      });\n    });\n\n    _defineProperty(this, \"handleClick2\", e => {\n      this.stylesetter(e);\n      var par = {};\n      par['value'] = e.target.textContent;\n      axios.get('http://localhost:5000/rest/pie/', {\n        params: par\n      }).then(result => {\n        this.setState({\n          weight2: result.data.pie['weight'],\n          variable2: result.data.pie['variable'],\n          pieLoading2: true\n        });\n        this.comparator(par['value'], 'B');\n      });\n    });\n\n    this.state = {\n      index1: [],\n      index2: [],\n      weight1: [],\n      variable1: [],\n      weight2: [],\n      variable2: [],\n      valA: \"\",\n      valB: \"\",\n      pieLoading1: false,\n      pieLoading2: false,\n      compres: {},\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000/rest/collector/\").then(res => res.json()).then(result => {\n      console.log(result.indices['index1']);\n      console.log(result.indices['index2']);\n      this.setState({\n        index1: result.indices['index1'],\n        index2: result.indices['index2']\n      });\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    return __jsx(AppProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, __jsx(Page, {\n      fullWidth: true,\n      separator: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, __jsx(Layout.Section, {\n      oneThird: true,\n      primary: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, __jsx(Card, {\n      title: \"IndexA\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, __jsx(Scrollable, {\n      shadow: true,\n      style: {\n        height: '60vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, __jsx(\"ul\", {\n      id: \"myUL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, this.state.index1.map(item => __jsx(\"li\", {\n      key: item + 'A',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      class: \"caret ind1\",\n      onClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, item))))))), __jsx(Card, {\n      title: \"Proportion Chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, this.state.pieLoading1 ? __jsx(Pieplot, {\n      weight: this.state.weight1,\n      variable: this.state.variable1,\n      title: this.state.gtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }) : __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Waiting for the Selection\")))), __jsx(Layout.Section, {\n      oneThird: true,\n      secondary: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, __jsx(Card, {\n      title: \"IndexB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, __jsx(Scrollable, {\n      shadow: true,\n      style: {\n        height: '60vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, __jsx(\"ul\", {\n      id: \"myUL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, this.state.index2.map(item => __jsx(\"li\", {\n      key: item + 'B',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, __jsx(\"span\", {\n      class: \"caret ind1\",\n      onClick: this.handleClick2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, item))))))), __jsx(Card, {\n      title: \"Proportion Chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, this.state.pieLoading2 ? __jsx(Pieplot, {\n      weight: this.state.weight2,\n      variable: this.state.variable2,\n      title: this.state.gtitle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }) : __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Waiting for the Selection\")))), __jsx(Layout.Section, {\n      oneHalf: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, __jsx(Card, {\n      title: \"Maps\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, __jsx(MapsComp, {\n      data: this.state.compres,\n      loading: this.state.loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default Comparator;","map":{"version":3,"sources":["/home/balaji/hello-next/components/Comparator.js"],"names":["React","AppProvider","Layout","Card","Scrollable","Page","axios","dynamic","Pieplot","ssr","MapsComp","Comparator","Component","constructor","props","e","n","target","parentElement","nextSibling","p","previousSibling","style","background","val","cat","setState","valA","valB","state","tempArr","push","loading","param","console","log","get","params","then","result","data","compres","stylesetter","par","textContent","weight1","pie","variable1","pieLoading1","comparator","weight2","variable2","pieLoading2","index1","index2","componentDidMount","fetch","res","json","indices","error","isLoaded","render","height","map","item","handleClick","gtitle","handleClick2"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '@shopify/polaris/styles.css';\nimport { AppProvider, Layout, Card, Scrollable,Page } from '@shopify/polaris';\nimport './Comparator.css'\nimport axios from 'axios';\nimport dynamic from 'next/dynamic'\n// import MapsComp from './MapsComp'\nconst Pieplot = dynamic(import('./PiePlot'),{\n  ssr:false\n})\nconst MapsComp = dynamic(import('./MapsComp'),{\n  ssr:false\n})\n\nclass Comparator extends React.Component{\n\n    constructor(props){\n        \n        super(props);\n        this.state={\n            index1:[],\n            index2:[],\n            weight1:[],\n            variable1:[],\n            weight2:[],\n            variable2:[],\n            valA:\"\",\n            valB:\"\",\n            pieLoading1:false,\n            pieLoading2:false,\n            compres:{},\n            loading:false\n        }\n\n    }\n\n    componentDidMount() {\n        fetch(\"http://localhost:5000/rest/collector/\")\n          .then(res => res.json())\n          .then(\n            (result) => {\n              console.log(result.indices['index1']);\n              console.log(result.indices['index2']);\n              this.setState({\n                index1: result.indices['index1'],\n                index2: result.indices['index2']\n              });\n            },\n            // Note: it's important to handle errors here\n            // instead of a catch() block so that we don't swallow\n            // exceptions from actual bugs in components.\n            (error) => {\n              this.setState({\n                isLoaded: true,\n                error\n              });\n            }\n          )\n      }\n    \n    stylesetter = (e) => {\n\n        var n=e.target.parentElement.nextSibling;\n        var p=e.target.parentElement.previousSibling;\n        e.target.parentElement.style=\"background:#4157c559\";\n        while(n){\n            n.style.background=\"white\";\n            n=n.nextSibling;\n        }\n        while(p){\n            p.style.background=\"white\";\n            p=p.previousSibling;\n        }\n\n    }\n\n    comparator =(val,cat) => {\n\n        if(cat==='A'){\n            this.setState({\n                valA:val\n            })\n        }\n        else{\n            this.setState({\n                valB:val\n            })\n        }\n        if(this.state.valA!==\"\" && this.state.valB!==\"\"){\n            var tempArr=[];\n            tempArr.push(this.state.valA);\n            tempArr.push(this.state.valB);\n            this.setState({\n                loading:true\n            })\n\n            var param={};\n            param['index']=tempArr;\n            console.log(param);\n            axios.get('http://localhost:5000/rest/comparisor/',{params:tempArr})\n            .then(result => {\n                 console.log(result.data.result);\n                 this.setState({\n                     compres:result.data.result,\n                     loading:false\n                 })\n              })\n        }\n\n    }\n    \n    handleClick = (e) => { \n       \n        this.stylesetter(e);\n        var par={};\n        par['value']=e.target.textContent;\n       \n        console.log(par);\n        axios.get('http://localhost:5000/rest/pie/',{params:par})\n        .then(result => {\n          this.setState({\n            weight1: result.data.pie['weight'],\n            variable1: result.data.pie['variable'],\n            pieLoading1:true\n          });\n          this.comparator(par['value'],'A');\n        })\n    }\n\n    handleClick2 = (e) => {\n\n        this.stylesetter(e);   var par={};\n        par['value']=e.target.textContent;\n        axios.get('http://localhost:5000/rest/pie/',{params:par})\n        .then(result => {\n          this.setState({\n            weight2: result.data.pie['weight'],\n            variable2: result.data.pie['variable'],\n            pieLoading2:true\n          });\n          this.comparator(par['value'],'B');\n        })\n\n    \n    }\n\n    render(){\n\n        return(\n\n                <AppProvider>\n                    <Page fullWidth={true} separator>\n                    <Layout>\n                        <Layout.Section oneThird primary> \n                                <Card title=\"IndexA\">\n                                    <Scrollable shadow style={{height: '60vh'}}>\n                                    <div>\n                                    <ul id=\"myUL\">\n                                    {this.state.index1.map((item)=>\n\n                                            <li key={item+'A'}>\n                                                    <span class=\"caret ind1\" onClick={this.handleClick}>{item}</span>\n                                            </li>\n\n                                    )}\n                                    </ul>\n                                    </div>\n                                    </Scrollable>\n                                </Card>\n                                <Card title=\"Proportion Chart\">\n                                <div>\n                                        {(this.state.pieLoading1)?(<Pieplot weight={this.state.weight1} variable={this.state.variable1} title={this.state.gtitle}/>):(<p>Waiting for the Selection</p>)}\n                                            </div>\n                                </Card>\n                        </Layout.Section>\n                        <Layout.Section oneThird secondary>\n                            <Card title=\"IndexB\">\n                                    <Scrollable shadow style={{height: '60vh'}}>\n                                    <div>\n                                    <ul id=\"myUL\">\n                                    {this.state.index2.map((item)=>\n\n                                            <li key={item+'B'}>\n                                                    <span class=\"caret ind1\" onClick={this.handleClick2}>{item}</span>\n                                            </li>\n\n                                    )}\n                                    </ul>\n                                    </div>\n                                    </Scrollable>\n                            </Card>\n                            <Card title=\"Proportion Chart\">\n                                <div>\n                                        {(this.state.pieLoading2)?(<Pieplot weight={this.state.weight2} variable={this.state.variable2} title={this.state.gtitle}/>):(<p>Waiting for the Selection</p>)}\n                                            </div>\n                                </Card>\n                        </Layout.Section>\n\n                        <Layout.Section oneHalf>\n                            <Card title=\"Maps\">\n                                <MapsComp data={this.state.compres} loading={this.state.loading}/>\n                            </Card>\n                        </Layout.Section>\n\n                    </Layout>\n                    </Page>\n\n                </AppProvider>\n\n        );\n    }\n\n}\n\nexport default Comparator;"]},"metadata":{},"sourceType":"module"}