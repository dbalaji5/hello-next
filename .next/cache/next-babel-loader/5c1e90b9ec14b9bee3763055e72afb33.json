{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/balaji/hello-next/components/DashBoard.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport '@shopify/polaris/styles.css';\nimport { AppProvider, Card, Layout, Button, Stack, Scrollable, TextStyle, Page } from '@shopify/polaris';\nimport Maps from './Maps.js';\nimport App from './App.js';\nimport Loader from './Loader.js';\nimport 'leaflet/dist/leaflet.css';\nimport Interpreter from './Interpreter.js';\nimport { ArrowUpMinor } from '@shopify/polaris-icons';\nimport axios from 'axios';\nimport Setting from './Setting.js';\nimport MethodSetting from './MethodSetting.js';\nimport Ranger from './Ranger.js';\nimport dynamic from 'next/dynamic';\nvar Rankplot = dynamic(function () {\n  return import('./RankPlot');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./RankPlot')];\n    },\n    modules: ['./RankPlot']\n  }\n});\n\nvar DashBoard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DashBoard, _React$Component);\n\n  function DashBoard(props) {\n    var _this;\n\n    _classCallCheck(this, DashBoard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DashBoard).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"storeDisplay\", function (disval, dbval, cat) {\n      if (_this.state.stat === \"generate\") {\n        var dbdata2 = _this.state.dbdata;\n        var flag = dbdata2.some(function (val) {\n          return val === dbval;\n        }); //console.log(flag);\n\n        if (!flag) {\n          var dbdata = _this.state.dbdata;\n          dbdata.push(dbval);\n          var source = _this.state.source;\n          source.push(ArrowUpMinor);\n          var display = _this.state.display;\n          display.push(disval);\n          var category2 = _this.state.category;\n          category2.push(cat);\n          var src = _this.state.src;\n          src.push(1);\n          var range = _this.state.range;\n          range.push(0);\n\n          _this.setState({\n            display: display,\n            dbdata: dbdata,\n            source: source,\n            src: src,\n            category: category2,\n            range: range\n          });\n        }\n      } else {\n        var idbdata = _this.state.idbdata;\n        var flag2 = idbdata.some(function (val) {\n          return val === dbval;\n        });\n\n        if (!flag2) {\n          var _idbdata = _this.state.idbdata;\n\n          _idbdata.push(dbval);\n\n          var idisplay = _this.state.idisplay;\n          idisplay.push(disval);\n          var icategory = _this.state.icategory;\n          icategory.push(cat);\n\n          _this.setState({\n            idbdata: _idbdata,\n            idisplay: idisplay,\n            icategory: icategory\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearArray\", function () {\n      var display = [];\n      var dbdata = [];\n      var source = [];\n      var category = [];\n      var src = [];\n      var range = [];\n      var gresult = {};\n      var gdata = [];\n\n      _this.setState({\n        display: display,\n        dbdata: dbdata,\n        source: source,\n        category: category,\n        src: src,\n        range: range,\n        gresult: gresult,\n        gdata: gdata\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearArray2\", function () {\n      var idbdata = [];\n      var idisplay = [];\n      var icategory = [];\n\n      _this.setState({\n        idbdata: idbdata,\n        idisplay: idisplay,\n        icategory: icategory\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"generateArray\", function () {\n      var res = {};\n\n      for (var i = 0; i < _this.state.dbdata.length; i++) {\n        res[_this.state.dbdata[i]] = _this.state.range[i] * _this.state.src[i];\n      } // console.log(res);\n\n\n      var cat = \"index\";\n\n      if (_this.state.category[0] == \"crime\") {\n        res['d1'] = _this.state.datequery + '/01/01';\n        res['d2'] = _this.state.datequery + '/12/31';\n      }\n\n      if (_this.state.category[0] === \"incident\") {\n        cat = \"incident\";\n      }\n\n      if (_this.state.category[0] === \"demographics\") {\n        cat = \"dindex\";\n      }\n\n      _this.setState({\n        ajaxLoading: true,\n        ajaxLoading2: true\n      });\n\n      if (_this.state.method === 'lc') {\n        axios.get('http://localhost:5000/rest/' + cat + '/', {\n          params: res\n        }).then(function (result) {\n          //console.log(result.data['resu2']);\n          var res = result.data['sums'].sort(function (a, b) {\n            return a.Index - b.Index;\n          });\n          var indexWeight = {};\n          res.map(function (r) {\n            indexWeight[r.DAUID] = 1;\n          });\n          var sx = res.map(function (r) {\n            return r.DAUID;\n          });\n          console.log(indexWeight, sx);\n\n          _this.setState({\n            ajaxLoading: false,\n            ajaxLoading2: false,\n            gresult: result.data['resu2'],\n            gdata: result.data['sums'],\n            indexWeight: indexWeight,\n            chartX: res.map(function (a) {\n              return a.DAUID;\n            }),\n            chartY: res.map(function (b) {\n              return b.Index;\n            })\n          });\n        });\n      } else {\n        console.log(\"in crimepca method\");\n        axios.get('http://localhost:5000/rest/crimepca/', {\n          params: res\n        }).then(function (result) {\n          //console.log(result.data['resu2']);\n          var res = result.data['sums'].sort(function (a, b) {\n            return a.Index - b.Index;\n          });\n          var indexWeight = {};\n          res.map(function (r) {\n            indexWeight[r.DAUID] = 1;\n          });\n          var sx = res.map(function (r) {\n            return r.DAUID;\n          });\n          console.log(indexWeight, sx);\n\n          _this.setState({\n            ajaxLoading: false,\n            ajaxLoading2: false,\n            gresult: result.data['resu2'],\n            gdata: result.data['sums'],\n            indexWeight: indexWeight,\n            chartX: res.map(function (a) {\n              return a.DAUID;\n            }),\n            chartY: res.map(function (b) {\n              return b.Index;\n            })\n          });\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"interpretArray\", function () {\n      var result = {};\n\n      for (var j = 0; j < _this.state.idbdata.length; j++) {\n        result[_this.state.idbdata[j]] = 1;\n      }\n\n      var cat1 = \"interpreter3\";\n\n      if (_this.state.icategory[0] === \"incident\") {\n        cat1 = \"interpreter2\";\n      }\n\n      if (_this.state.icategory[0] === \"demographics\") {\n        cat1 = \"interpreter1\";\n      }\n\n      _this.setState({\n        ajaxLoading: true\n      });\n\n      axios.get('http://localhost:5000/rest/' + cat1 + '/', {\n        params: result\n      }).then(function (result) {\n        var res = result.data['sums'].sort(function (a, b) {\n          return a.Index - b.Index;\n        });\n\n        _this.setState({\n          ajaxLoading: false,\n          iresult: result.data['pred'],\n          idata: result.data['sums'],\n          chartX: res.map(function (a) {\n            return a.DAUID;\n          }),\n          chartY: res.map(function (b) {\n            return b.Index;\n          })\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mutateSource\", function (src) {\n      _this.setState({\n        source: src\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mutateRange\", function (range) {\n      _this.setState({\n        range: range\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setStat\", function (value) {\n      var stat = value;\n\n      _this.setState({\n        stat: stat\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"methodStat\", function (value) {\n      console.log(value, _this.state.stat);\n\n      if (value === \"PCA\") {\n        _this.setState({\n          method: 'pca'\n        });\n      } else {\n        _this.setState({\n          method: 'lc'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleHover\", function (data) {\n      console.log(data.points[0].value);\n      console.log(data.points[0].x);\n      console.log(_this.state.chartX[data.points[0].x]);\n      var cdauid = _this.state.chartX[data.points[0].x];\n      var indexWeight = _this.state.indexWeight;\n\n      for (var key in indexWeight) {\n        indexWeight[key] = 1;\n\n        if (key == cdauid) {\n          indexWeight[key] = 6;\n        }\n      }\n\n      _this.setState({\n        indexWeight: indexWeight\n      });\n\n      console.log(_this.state.indexWeight[cdauid]);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDateChange\", function (value) {\n      _this.setState({\n        datequery: value\n      });\n\n      var res2 = {};\n      res2['d1'] = _this.state.datequery + '/01/01';\n      res2['d2'] = _this.state.datequery + '/12/31';\n      console.log(res2);\n    });\n\n    _this.state = {\n      idisplay: [],\n      idbdata: [],\n      icategory: [],\n      display: [],\n      dbdata: [],\n      source: [],\n      category: [],\n      src: [],\n      range: [],\n      gendic: [],\n      gresult: {},\n      iresult: {},\n      gdata: [],\n      idata: [],\n      stat: \"generate\",\n      chartX: [],\n      chartY: [],\n      ajaxLoading: false,\n      ajaxLoading2: true,\n      indexWeight: {},\n      method: 'lc',\n      datequery: 2005\n    };\n    return _this;\n  }\n\n  _createClass(DashBoard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {} // handleClick(a,b){\n    //    console.log(a,b);\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(AppProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, __jsx(Page, {\n        fullWidth: true,\n        separator: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }, __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }, __jsx(Layout.Section, {\n        secondary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, __jsx(Card, {\n        title: \"Indicators\",\n        actions: [{\n          content: 'Manage'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330\n        },\n        __self: this\n      }, __jsx(Card.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, __jsx(TextStyle, {\n        variation: \"subdued\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, \"Choose Indicators\"), __jsx(Setting, {\n        onClick: function onClick(value) {\n          return _this2.setStat(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }), __jsx(MethodSetting, {\n        onClick: function onClick(methodvalue) {\n          return _this2.methodStat(methodvalue);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }), __jsx(TextStyle, {\n        variation: \"subdued\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"Date Period for Indicators\"), __jsx(Ranger, {\n        min: 2005,\n        max: 2017,\n        onChange: function onChange(value) {\n          return _this2.handleDateChange(value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338\n        },\n        __self: this\n      })), __jsx(Card.Section, {\n        title: \"Items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, __jsx(Scrollable, {\n        shadow: true,\n        style: {\n          height: '40vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, __jsx(App, {\n        onValueChange: function onValueChange(disval, dbval, cat) {\n          return _this2.storeDisplay(disval, dbval, cat);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }))))), __jsx(Layout.Section, {\n        primary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, __jsx(Maps, {\n        genres: this.state.gresult,\n        gendata: this.state.gdata,\n        ajaxload: this.state.ajaxLoading,\n        intres: this.state.iresult,\n        intdata: this.state.idata,\n        iweight: this.state.indexWeight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      })), __jsx(Layout.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, __jsx(Stack, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352\n        },\n        __self: this\n      }, __jsx(Card, {\n        title: \"Selector\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, __jsx(Card.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354\n        },\n        __self: this\n      }, __jsx(Stack, {\n        spacing: \"loose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355\n        },\n        __self: this\n      }, __jsx(Button, {\n        primary: true,\n        onClick: this.generateArray,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356\n        },\n        __self: this\n      }, \"Generate\"), __jsx(Button, {\n        primary: true,\n        onClick: this.clearArray,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }, \"Clear\"))), __jsx(Card.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, __jsx(Scrollable, {\n        shadow: true,\n        style: {\n          height: '20vh',\n          width: '45vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, __jsx(Loader, {\n        data: this.state.display,\n        src: this.state.source,\n        cat: this.state.category,\n        source: this.state.src,\n        range: this.state.range,\n        onSourceChange: function onSourceChange(src) {\n          return _this2.mutateSource(src);\n        },\n        onRangeChange: function onRangeChange(range) {\n          return _this2.mutateRange(range);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      })))), __jsx(Card, {\n        title: \"Interpreters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, __jsx(Card.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, __jsx(Stack, {\n        spacing: \"loose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, __jsx(Button, {\n        primary: true,\n        onClick: this.interpretArray,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, \"Interpret\"), __jsx(Button, {\n        primary: true,\n        onClick: this.clearArray2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, \"clear\"))), __jsx(Card.Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, __jsx(Scrollable, {\n        shadow: true,\n        style: {\n          height: '20vh',\n          width: '45vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, __jsx(Interpreter, {\n        data: this.state.idisplay,\n        cat: this.state.icategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      })))), __jsx(Card, {\n        title: \"Chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, __jsx(Scrollable, {\n        shadow: true,\n        style: {\n          height: '32vh',\n          width: '59vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380\n        },\n        __self: this\n      }, !this.state.ajaxLoading2 ? __jsx(Rankplot, {\n        chartY: this.state.chartY,\n        ititle: this.state.ititle,\n        onHover: function onHover(data) {\n          return _this2.handleHover(data);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }) : __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, \"Waiting for the load\"))))))));\n    }\n  }]);\n\n  return DashBoard;\n}(React.Component);\n\nexport default DashBoard;","map":{"version":3,"sources":["/home/balaji/hello-next/components/DashBoard.js"],"names":["React","AppProvider","Card","Layout","Button","Stack","Scrollable","TextStyle","Page","Maps","App","Loader","Interpreter","ArrowUpMinor","axios","Setting","MethodSetting","Ranger","dynamic","Rankplot","ssr","DashBoard","props","disval","dbval","cat","state","stat","dbdata2","dbdata","flag","some","val","push","source","display","category2","category","src","range","setState","idbdata","flag2","idisplay","icategory","gresult","gdata","res","i","length","datequery","ajaxLoading","ajaxLoading2","method","get","params","then","result","data","sort","a","b","Index","indexWeight","map","r","DAUID","sx","console","log","chartX","chartY","j","cat1","iresult","idata","value","points","x","cdauid","key","res2","gendic","content","setStat","methodvalue","methodStat","handleDateChange","height","storeDisplay","generateArray","clearArray","width","mutateSource","mutateRange","interpretArray","clearArray2","ititle","handleHover","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '@shopify/polaris/styles.css';\nimport {AppProvider,Card,Layout,Button,Stack,Scrollable, TextStyle, Page} from '@shopify/polaris';\nimport Maps from './Maps.js'\nimport App from './App.js'\nimport Loader from './Loader.js'\nimport 'leaflet/dist/leaflet.css';\nimport Interpreter from './Interpreter.js';\nimport {ArrowUpMinor} from '@shopify/polaris-icons';\nimport axios from 'axios'\nimport Setting from './Setting.js'\nimport MethodSetting from './MethodSetting.js';\nimport Ranger from './Ranger.js'\nimport dynamic from 'next/dynamic'\nconst Rankplot = dynamic(import('./RankPlot'),{\n  ssr:false\n})\nclass DashBoard extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n             idisplay: [],\n             idbdata: [],\n             icategory: [],\n             display: [],\n             dbdata: [],\n             source: [],\n             category: [],\n             src:[],\n             range:[],\n             gendic:[],\n             gresult:{},\n             iresult:{},\n             gdata:[],\n             idata:[],\n             stat:\"generate\",\n             chartX:[],\n             chartY:[],\n             ajaxLoading:false,\n             ajaxLoading2:true,\n             indexWeight:{},\n             method:'lc',\n             datequery:2005\n        }\n    }\n\n    componentDidMount(){\n\n        \n    }\n\n    // handleClick(a,b){\n    //    console.log(a,b);\n    // }\n    \n    storeDisplay = (disval,dbval,cat) => {\n\n        if(this.state.stat===\"generate\"){\n    \n            const dbdata2=this.state.dbdata;\n            const flag=dbdata2.some(val => val === dbval);\n            //console.log(flag);\n\n            \n            if(!flag){\n              const dbdata=this.state.dbdata;\n              dbdata.push(dbval);\n              const source=this.state.source;\n              source.push(ArrowUpMinor)\n              const display=this.state.display;\n              display.push(disval);\n              const category2=this.state.category;\n              category2.push(cat);\n              const src=this.state.src;\n              src.push(1);\n              const range=this.state.range;\n              range.push(0);\n              this.setState({\n                  display: display,\n                  dbdata: dbdata,\n                  source:source,\n                  src:src,\n                  category:category2,\n                  range:range\n              });\n          }\n      }\n      else{\n          \n          const idbdata=this.state.idbdata;\n          const flag2=idbdata.some(val => val === dbval);\n          if(!flag2){\n              const idbdata=this.state.idbdata;\n              idbdata.push(dbval);\n              const idisplay=this.state.idisplay;\n              idisplay.push(disval);\n              const icategory=this.state.icategory;\n              icategory.push(cat);\n              this.setState({\n                 idbdata:idbdata,\n                 idisplay:idisplay,\n                 icategory:icategory\n              });\n          }\n          \n\n      }\n      \n     \n    };\n    clearArray = () =>{\n       \n       const display=[];\n       const dbdata=[];\n       const source=[];\n       const category=[];\n       const src=[];\n       const range=[];\n       const gresult={};\n       const gdata=[];\n       this.setState({display:display,dbdata:dbdata,source:source,category:category,src:src,range:range,gresult:gresult,gdata:gdata});\n    };\n\n    clearArray2 = () => {\n\n        const idbdata=[];\n        const idisplay=[];\n        const icategory=[];\n        this.setState({idbdata:idbdata,idisplay:idisplay,icategory:icategory})\n    }\n\n    generateArray = () => {\n      \n   \n      var res={};\n      for(var i=0;i<this.state.dbdata.length;i++){\n          res[this.state.dbdata[i]]=(this.state.range[i])*(this.state.src[i]);\n      }\n      \n      // console.log(res);\n      var cat=\"index\";\n      if(this.state.category[0]==\"crime\"){\n        res['d1']=this.state.datequery+'/01/01'\n        res['d2']=this.state.datequery+'/12/31'\n      }\n      if(this.state.category[0]===\"incident\"){\n          cat=\"incident\"\n      }\n      if(this.state.category[0]===\"demographics\"){\n          cat=\"dindex\"\n      }\n      this.setState({\n          ajaxLoading:true,\n          ajaxLoading2:true\n      })\n      if(this.state.method==='lc'){\n        axios.get('http://localhost:5000/rest/'+cat+'/',{params:res})\n        .then(result => {\n          //console.log(result.data['resu2']);\n          var res=result.data['sums'].sort((a,b) => {\n            return a.Index-b.Index\n          })\n\n          var indexWeight={}\n          res.map((r)=>{indexWeight[r.DAUID]=1})\n          var sx=res.map((r)=>r.DAUID)\n          console.log(indexWeight,sx);\n\n          this.setState(\n\n            {\n               ajaxLoading:false,\n               ajaxLoading2:false,\n               gresult:result.data['resu2'],\n               gdata:result.data['sums'],\n               indexWeight:indexWeight,\n               chartX:res.map((a)=>a.DAUID),\n               chartY:res.map((b)=>b.Index)\n            }\n            \n          )\n        \n        })\n      }\n      else{\n        console.log(\"in crimepca method\")\n\n        axios.get('http://localhost:5000/rest/crimepca/',{params:res})\n        .then(result => {\n          //console.log(result.data['resu2']);\n          var res=result.data['sums'].sort((a,b) => {\n            return a.Index-b.Index\n          })\n\n          var indexWeight={}\n          res.map((r)=>{indexWeight[r.DAUID]=1})\n          var sx=res.map((r)=>r.DAUID)\n          console.log(indexWeight,sx);\n\n          this.setState(\n\n            {\n               ajaxLoading:false,\n               ajaxLoading2:false,\n               gresult:result.data['resu2'],\n               gdata:result.data['sums'],\n               indexWeight:indexWeight,\n               chartX:res.map((a)=>a.DAUID),\n               chartY:res.map((b)=>b.Index)\n            }\n            \n          )\n        \n        })\n\n\n      }\n\n    };\n\n    interpretArray = () => {\n      var result={};\n      for(var j=0;j<this.state.idbdata.length;j++){\n\n          result[this.state.idbdata[j]]=1;\n\n      }\n      var cat1=\"interpreter3\";\n      if(this.state.icategory[0]===\"incident\"){\n          cat1=\"interpreter2\"\n      }\n      if(this.state.icategory[0]===\"demographics\"){\n          cat1=\"interpreter1\"\n      }\n      this.setState({\n        ajaxLoading:true\n      })\n      axios.get('http://localhost:5000/rest/'+cat1+'/',{params:result})\n        .then(result => {\n\n          var res=result.data['sums'].sort((a,b) => {\n            return a.Index-b.Index\n          })\n         \n          this.setState({\n\n              ajaxLoading:false,\n              iresult:result.data['pred'],\n              idata:result.data['sums'],\n              chartX:res.map((a)=>a.DAUID),\n              chartY:res.map((b)=>b.Index)\n          });\n\n        })\n\n    };\n\n    mutateSource =(src) => {\n\n      this.setState({\n        source:src\n      });\n    }\n    mutateRange =(range) => {\n\n       this.setState({\n          range:range\n       });\n    }\n\n    setStat = (value) => {\n      const stat=value;\n     \n       this.setState({\n          stat:stat\n       });\n    }\n\n    methodStat = (value) => {\n\n        console.log(value,this.state.stat);\n        if(value===\"PCA\"){\n            this.setState({\n              method:'pca'\n            })\n        }\n        else{\n          this.setState({\n              method:'lc'\n          })\n        }\n    }\n    handleHover = (data) => {\n       console.log(data.points[0].value);\n       console.log(data.points[0].x);\n       console.log(this.state.chartX[data.points[0].x]);\n       var cdauid=this.state.chartX[data.points[0].x];\n       var indexWeight=this.state.indexWeight\n       for (var key in indexWeight){\n           indexWeight[key]=1\n           if(key==cdauid){\n              indexWeight[key]=6\n           }\n       }\n       this.setState({\n          indexWeight:indexWeight\n       })\n       console.log(this.state.indexWeight[cdauid]);\n    }\n    handleDateChange= (value) => {\n\n        this.setState({\n\n           datequery:value\n        })\n        var res2={}\n        res2['d1']=this.state.datequery+'/01/01'\n        res2['d2']=this.state.datequery+'/12/31'\n        console.log(res2);\n    }\n\n  render(){\n   \n   return(\n  <AppProvider>\n  <Page fullWidth={true} separator>\n  <Layout>\n  <Layout.Section secondary>\n    \n    <Card title=\"Indicators\" actions={[{content: 'Manage'}]}>\n      <Card.Section>\n        <TextStyle variation=\"subdued\">Choose Indicators</TextStyle>\n        \n        \n        <Setting onClick={(value)=>this.setStat(value)}/>\n        <MethodSetting onClick={(methodvalue)=>this.methodStat(methodvalue)}/>\n        <TextStyle variation=\"subdued\">Date Period for Indicators</TextStyle>\n        <Ranger min={2005} max={2017} onChange={(value)=>this.handleDateChange(value)}/>\n      </Card.Section>\n      <Card.Section title=\"Items\">\n      <Scrollable shadow style={{height: '40vh'}}>\n          <App onValueChange={(disval,dbval,cat)=>this.storeDisplay(disval,dbval,cat)}/>\n       </Scrollable>\n      </Card.Section>\n    </Card>\n  </Layout.Section>\n  <Layout.Section primary>\n  <Maps genres={this.state.gresult} gendata={this.state.gdata} ajaxload={this.state.ajaxLoading} intres={this.state.iresult} intdata={this.state.idata} iweight={this.state.indexWeight}/>\n\n  </Layout.Section>\n  <Layout.Section>\n    <Stack>\n    <Card title=\"Selector\">\n      <Card.Section>\n        <Stack spacing=\"loose\">\n        <Button primary onClick={this.generateArray}>Generate</Button>\n        <Button primary onClick={this.clearArray}>Clear</Button>\n        </Stack>\n      </Card.Section>\n      <Card.Section>\n       <Scrollable shadow style={{height: '20vh',width:'45vh'}}>\n         <Loader data={this.state.display} src={this.state.source} cat={this.state.category} source={this.state.src} range={this.state.range} onSourceChange={(src)=>this.mutateSource(src)} onRangeChange={(range)=> this.mutateRange(range)}/>\n       </Scrollable>\n      </Card.Section>\n    </Card>\n    <Card title=\"Interpreters\">\n      <Card.Section>\n        <Stack spacing=\"loose\">\n        <Button primary onClick={this.interpretArray}>Interpret</Button>\n        <Button primary onClick={this.clearArray2}>clear</Button>\n        </Stack>\n      </Card.Section>\n      <Card.Section>\n      <Scrollable shadow style={{height: '20vh',width:'45vh'}}>\n          <Interpreter data={this.state.idisplay} cat={this.state.icategory} />\n       </Scrollable>\n      </Card.Section>\n    </Card>\n      <Card title=\"Chart\">\n      <Scrollable shadow style={{height: '32vh',width:'59vh'}}>\n      {(!this.state.ajaxLoading2)?(<Rankplot chartY={this.state.chartY} ititle={this.state.ititle} onHover={(data)=>this.handleHover(data)}/>):(<p>Waiting for the load</p>)}\n      </Scrollable>\n      </Card>\n  </Stack>\n  </Layout.Section>\n  {/* <Maps genres={this.state.gresult} gendata={this.state.gdata} ajaxload={this.state.ajaxLoading} intres={this.state.iresult} intdata={this.state.idata}/> */}\n     \n</Layout>\n</Page>\n</AppProvider>\n   );\n  }\n}\n\nexport default DashBoard;"]},"metadata":{},"sourceType":"module"}