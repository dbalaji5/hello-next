{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/balaji/hello-next/components/Comparator.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport '@shopify/polaris/styles.css';\nimport { AppProvider, Layout, Card, Scrollable, Page } from '@shopify/polaris';\nimport Plot from 'react-plotly.js';\nimport './Comparator.css';\nimport axios from 'axios';\nimport MapsComp from './MapsComp';\nimport dynamic from 'next/dynamic';\nvar Pieplot = dynamic(function () {\n  return import('./PiePlot');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./PiePlot')];\n    },\n    modules: ['./PiePlot']\n  }\n});\n\nvar Comparator =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Comparator, _React$Component);\n\n  function Comparator(props) {\n    var _this;\n\n    _classCallCheck(this, Comparator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Comparator).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"stylesetter\", function (e) {\n      var n = e.target.parentElement.nextSibling;\n      var p = e.target.parentElement.previousSibling;\n      e.target.parentElement.style = \"background:#4157c559\";\n\n      while (n) {\n        n.style.background = \"white\";\n        n = n.nextSibling;\n      }\n\n      while (p) {\n        p.style.background = \"white\";\n        p = p.previousSibling;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"comparator\", function (val, cat) {\n      if (cat === 'A') {\n        _this.setState({\n          valA: val\n        });\n      } else {\n        _this.setState({\n          valB: val\n        });\n      }\n\n      if (_this.state.valA !== \"\" && _this.state.valB !== \"\") {\n        var tempArr = [];\n        tempArr.push(_this.state.valA);\n        tempArr.push(_this.state.valB);\n\n        _this.setState({\n          loading: true\n        });\n\n        var param = {};\n        param['index'] = tempArr;\n        console.log(param);\n        axios.get('http://localhost:5000/rest/comparisor/', {\n          params: tempArr\n        }).then(function (result) {\n          console.log(result.data.result);\n\n          _this.setState({\n            compres: result.data.result,\n            loading: false\n          });\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      _this.stylesetter(e);\n\n      var par = {};\n      par['value'] = e.target.textContent;\n      console.log(par);\n      axios.get('http://localhost:5000/rest/pie/', {\n        params: par\n      }).then(function (result) {\n        _this.setState({\n          weight1: result.data.pie['weight'],\n          variable1: result.data.pie['variable'],\n          pieLoading1: true\n        });\n\n        _this.comparator(par['value'], 'A');\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick2\", function (e) {\n      _this.stylesetter(e);\n\n      var par = {};\n      par['value'] = e.target.textContent;\n      axios.get('http://localhost:5000/rest/pie/', {\n        params: par\n      }).then(function (result) {\n        _this.setState({\n          weight2: result.data.pie['weight'],\n          variable2: result.data.pie['variable'],\n          pieLoading2: true\n        });\n\n        _this.comparator(par['value'], 'B');\n      });\n    });\n\n    _this.state = {\n      index1: [],\n      index2: [],\n      weight1: [],\n      variable1: [],\n      weight2: [],\n      variable2: [],\n      valA: \"\",\n      valB: \"\",\n      pieLoading1: false,\n      pieLoading2: false,\n      compres: {},\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(Comparator, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:5000/rest/collector/\").then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        console.log(result.indices['index1']);\n        console.log(result.indices['index2']);\n\n        _this2.setState({\n          index1: result.indices['index1'],\n          index2: result.indices['index2']\n        });\n      }, // Note: it's important to handle errors here\n      // instead of a catch() block so that we don't swallow\n      // exceptions from actual bugs in components.\n      function (error) {\n        _this2.setState({\n          isLoaded: true,\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return __jsx(AppProvider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, __jsx(Page, {\n        fullWidth: true,\n        separator: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, __jsx(Layout.Section, {\n        oneThird: true,\n        primary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, __jsx(Card, {\n        title: \"IndexA\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, __jsx(Scrollable, {\n        shadow: true,\n        style: {\n          height: '60vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        id: \"myUL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, this.state.index1.map(function (item) {\n        return __jsx(\"li\", {\n          key: item + 'A',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          \"class\": \"caret ind1\",\n          onClick: _this3.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, item));\n      }))))), __jsx(Card, {\n        title: \"Proportion Chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, this.state.pieLoading1 ? __jsx(Pieplot, {\n        weight: this.state.weight1,\n        variable: this.state.variable1,\n        title: this.state.gtitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }) : __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Waiting for the Selection\")))), __jsx(Layout.Section, {\n        oneThird: true,\n        secondary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, __jsx(Card, {\n        title: \"IndexB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, __jsx(Scrollable, {\n        shadow: true,\n        style: {\n          height: '60vh'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        id: \"myUL\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, this.state.index2.map(function (item) {\n        return __jsx(\"li\", {\n          key: item + 'B',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, __jsx(\"span\", {\n          \"class\": \"caret ind1\",\n          onClick: _this3.handleClick2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, item));\n      }))))), __jsx(Card, {\n        title: \"Proportion Chart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, this.state.pieLoading2 ? __jsx(Pieplot, {\n        weight: this.state.weight2,\n        variable: this.state.variable2,\n        title: this.state.gtitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }) : __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Waiting for the Selection\")))), __jsx(Layout.Section, {\n        oneHalf: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, __jsx(Card, {\n        title: \"Maps\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, __jsx(MapsComp, {\n        data: this.state.compres,\n        loading: this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Comparator;\n}(React.Component);\n\nexport default Comparator;","map":{"version":3,"sources":["/home/balaji/hello-next/components/Comparator.js"],"names":["React","AppProvider","Layout","Card","Scrollable","Page","Plot","axios","MapsComp","dynamic","Pieplot","ssr","Comparator","props","e","n","target","parentElement","nextSibling","p","previousSibling","style","background","val","cat","setState","valA","valB","state","tempArr","push","loading","param","console","log","get","params","then","result","data","compres","stylesetter","par","textContent","weight1","pie","variable1","pieLoading1","comparator","weight2","variable2","pieLoading2","index1","index2","fetch","res","json","indices","error","isLoaded","height","map","item","handleClick","gtitle","handleClick2","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '@shopify/polaris/styles.css';\nimport { AppProvider, Layout, Card, Scrollable,Page } from '@shopify/polaris';\nimport Plot from 'react-plotly.js';\nimport './Comparator.css'\nimport axios from 'axios';\nimport MapsComp from './MapsComp';\nimport dynamic from 'next/dynamic'\nconst Pieplot = dynamic(import('./PiePlot'),{\n  ssr:false\n})\n\nclass Comparator extends React.Component{\n\n    constructor(props){\n        \n        super(props);\n        this.state={\n            index1:[],\n            index2:[],\n            weight1:[],\n            variable1:[],\n            weight2:[],\n            variable2:[],\n            valA:\"\",\n            valB:\"\",\n            pieLoading1:false,\n            pieLoading2:false,\n            compres:{},\n            loading:false\n        }\n\n    }\n\n    componentDidMount() {\n        fetch(\"http://localhost:5000/rest/collector/\")\n          .then(res => res.json())\n          .then(\n            (result) => {\n              console.log(result.indices['index1']);\n              console.log(result.indices['index2']);\n              this.setState({\n                index1: result.indices['index1'],\n                index2: result.indices['index2']\n              });\n            },\n            // Note: it's important to handle errors here\n            // instead of a catch() block so that we don't swallow\n            // exceptions from actual bugs in components.\n            (error) => {\n              this.setState({\n                isLoaded: true,\n                error\n              });\n            }\n          )\n      }\n    \n    stylesetter = (e) => {\n\n        var n=e.target.parentElement.nextSibling;\n        var p=e.target.parentElement.previousSibling;\n        e.target.parentElement.style=\"background:#4157c559\";\n        while(n){\n            n.style.background=\"white\";\n            n=n.nextSibling;\n        }\n        while(p){\n            p.style.background=\"white\";\n            p=p.previousSibling;\n        }\n\n    }\n\n    comparator =(val,cat) => {\n\n        if(cat==='A'){\n            this.setState({\n                valA:val\n            })\n        }\n        else{\n            this.setState({\n                valB:val\n            })\n        }\n        if(this.state.valA!==\"\" && this.state.valB!==\"\"){\n            var tempArr=[];\n            tempArr.push(this.state.valA);\n            tempArr.push(this.state.valB);\n            this.setState({\n                loading:true\n            })\n\n            var param={};\n            param['index']=tempArr;\n            console.log(param);\n            axios.get('http://localhost:5000/rest/comparisor/',{params:tempArr})\n            .then(result => {\n                 console.log(result.data.result);\n                 this.setState({\n                     compres:result.data.result,\n                     loading:false\n                 })\n              })\n        }\n\n    }\n    \n    handleClick = (e) => { \n       \n        this.stylesetter(e);\n        var par={};\n        par['value']=e.target.textContent;\n       \n        console.log(par);\n        axios.get('http://localhost:5000/rest/pie/',{params:par})\n        .then(result => {\n          this.setState({\n            weight1: result.data.pie['weight'],\n            variable1: result.data.pie['variable'],\n            pieLoading1:true\n          });\n          this.comparator(par['value'],'A');\n        })\n    }\n\n    handleClick2 = (e) => {\n\n        this.stylesetter(e);   var par={};\n        par['value']=e.target.textContent;\n        axios.get('http://localhost:5000/rest/pie/',{params:par})\n        .then(result => {\n          this.setState({\n            weight2: result.data.pie['weight'],\n            variable2: result.data.pie['variable'],\n            pieLoading2:true\n          });\n          this.comparator(par['value'],'B');\n        })\n\n    \n    }\n\n    render(){\n\n        return(\n\n                <AppProvider>\n                    <Page fullWidth={true} separator>\n                    <Layout>\n                        <Layout.Section oneThird primary> \n                                <Card title=\"IndexA\">\n                                    <Scrollable shadow style={{height: '60vh'}}>\n                                    <div>\n                                    <ul id=\"myUL\">\n                                    {this.state.index1.map((item)=>\n\n                                            <li key={item+'A'}>\n                                                    <span class=\"caret ind1\" onClick={this.handleClick}>{item}</span>\n                                            </li>\n\n                                    )}\n                                    </ul>\n                                    </div>\n                                    </Scrollable>\n                                </Card>\n                                <Card title=\"Proportion Chart\">\n                                <div>\n                                        {(this.state.pieLoading1)?(<Pieplot weight={this.state.weight1} variable={this.state.variable1} title={this.state.gtitle}/>):(<p>Waiting for the Selection</p>)}\n                                            </div>\n                                </Card>\n                        </Layout.Section>\n                        <Layout.Section oneThird secondary>\n                            <Card title=\"IndexB\">\n                                    <Scrollable shadow style={{height: '60vh'}}>\n                                    <div>\n                                    <ul id=\"myUL\">\n                                    {this.state.index2.map((item)=>\n\n                                            <li key={item+'B'}>\n                                                    <span class=\"caret ind1\" onClick={this.handleClick2}>{item}</span>\n                                            </li>\n\n                                    )}\n                                    </ul>\n                                    </div>\n                                    </Scrollable>\n                            </Card>\n                            <Card title=\"Proportion Chart\">\n                                <div>\n                                        {(this.state.pieLoading2)?(<Pieplot weight={this.state.weight2} variable={this.state.variable2} title={this.state.gtitle}/>):(<p>Waiting for the Selection</p>)}\n                                            </div>\n                                </Card>\n                        </Layout.Section>\n\n                        <Layout.Section oneHalf>\n                            <Card title=\"Maps\">\n                                <MapsComp data={this.state.compres} loading={this.state.loading}/>\n                            </Card>\n                        </Layout.Section>\n\n                    </Layout>\n                    </Page>\n\n                </AppProvider>\n\n        );\n    }\n\n}\n\nexport default Comparator;"]},"metadata":{},"sourceType":"module"}