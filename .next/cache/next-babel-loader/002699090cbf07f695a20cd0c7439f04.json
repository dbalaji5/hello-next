{"ast":null,"code":"var _jsxFileName = \"/home/balaji/hello-next/components/DashBoard.js\";\nvar __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport '@shopify/polaris/styles.css';\nimport { AppProvider, Card, Layout, Button, Stack, Scrollable, TextStyle, Page } from '@shopify/polaris';\nimport App from './App.js';\nimport Loader from './Loader.js';\nimport Interpreter from './Interpreter.js';\nimport { ArrowUpMinor } from '@shopify/polaris-icons';\nimport axios from 'axios';\nimport Setting from './Setting.js';\nimport MethodSetting from './MethodSetting.js';\nimport Ranger from './Ranger.js';\nimport dynamic from 'next/dynamic'; // import Maps from './Maps'\n\nconst Rankplot = dynamic(() => import('./RankPlot'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./RankPlot')],\n    modules: ['./RankPlot']\n  }\n});\nconst Maps = dynamic(() => import('./Maps'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('./Maps')],\n    modules: ['./Maps']\n  }\n});\n\nclass DashBoard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"storeDisplay\", (disval, dbval, cat) => {\n      if (this.state.stat === \"generate\") {\n        const dbdata2 = this.state.dbdata;\n        const flag = dbdata2.some(val => val === dbval); //console.log(flag);\n\n        if (!flag) {\n          const dbdata = this.state.dbdata;\n          dbdata.push(dbval);\n          const source = this.state.source;\n          source.push(ArrowUpMinor);\n          const display = this.state.display;\n          display.push(disval);\n          const category2 = this.state.category;\n          category2.push(cat);\n          const src = this.state.src;\n          src.push(1);\n          const range = this.state.range;\n          range.push(0);\n          this.setState({\n            display: display,\n            dbdata: dbdata,\n            source: source,\n            src: src,\n            category: category2,\n            range: range\n          });\n        }\n      } else {\n        const idbdata = this.state.idbdata;\n        const flag2 = idbdata.some(val => val === dbval);\n\n        if (!flag2) {\n          const idbdata = this.state.idbdata;\n          idbdata.push(dbval);\n          const idisplay = this.state.idisplay;\n          idisplay.push(disval);\n          const icategory = this.state.icategory;\n          icategory.push(cat);\n          this.setState({\n            idbdata: idbdata,\n            idisplay: idisplay,\n            icategory: icategory\n          });\n        }\n      }\n    });\n\n    _defineProperty(this, \"clearArray\", () => {\n      const display = [];\n      const dbdata = [];\n      const source = [];\n      const category = [];\n      const src = [];\n      const range = [];\n      const gresult = {};\n      const gdata = [];\n      this.setState({\n        display: display,\n        dbdata: dbdata,\n        source: source,\n        category: category,\n        src: src,\n        range: range,\n        gresult: gresult,\n        gdata: gdata\n      });\n    });\n\n    _defineProperty(this, \"clearArray2\", () => {\n      const idbdata = [];\n      const idisplay = [];\n      const icategory = [];\n      this.setState({\n        idbdata: idbdata,\n        idisplay: idisplay,\n        icategory: icategory\n      });\n    });\n\n    _defineProperty(this, \"generateArray\", () => {\n      var res = {};\n\n      for (var i = 0; i < this.state.dbdata.length; i++) {\n        res[this.state.dbdata[i]] = this.state.range[i] * this.state.src[i];\n      } // console.log(res);\n\n\n      var cat = \"index\";\n\n      if (this.state.category[0] == \"crime\") {\n        res['d1'] = this.state.datequery + '/01/01';\n        res['d2'] = this.state.datequery + '/12/31';\n      }\n\n      if (this.state.category[0] === \"incident\") {\n        cat = \"incident\";\n      }\n\n      if (this.state.category[0] === \"demographics\") {\n        cat = \"dindex\";\n      }\n\n      this.setState({\n        ajaxLoading: true,\n        ajaxLoading2: true\n      });\n\n      if (this.state.method === 'lc') {\n        axios.get('http://localhost:5000/rest/' + cat + '/', {\n          params: res\n        }).then(result => {\n          //console.log(result.data['resu2']);\n          var res = result.data['sums'].sort((a, b) => {\n            return a.Index - b.Index;\n          });\n          var indexWeight = {};\n          res.map(r => {\n            indexWeight[r.DAUID] = 1;\n          });\n          var sx = res.map(r => r.DAUID);\n          console.log(indexWeight, sx);\n          this.setState({\n            ajaxLoading: false,\n            ajaxLoading2: false,\n            gresult: result.data['resu2'],\n            gdata: result.data['sums'],\n            indexWeight: indexWeight,\n            chartX: res.map(a => a.DAUID),\n            chartY: res.map(b => b.Index)\n          });\n        });\n      } else {\n        console.log(\"in crimepca method\");\n        axios.get('http://localhost:5000/rest/crimepca/', {\n          params: res\n        }).then(result => {\n          //console.log(result.data['resu2']);\n          var res = result.data['sums'].sort((a, b) => {\n            return a.Index - b.Index;\n          });\n          var indexWeight = {};\n          res.map(r => {\n            indexWeight[r.DAUID] = 1;\n          });\n          var sx = res.map(r => r.DAUID);\n          console.log(indexWeight, sx);\n          this.setState({\n            ajaxLoading: false,\n            ajaxLoading2: false,\n            gresult: result.data['resu2'],\n            gdata: result.data['sums'],\n            indexWeight: indexWeight,\n            chartX: res.map(a => a.DAUID),\n            chartY: res.map(b => b.Index)\n          });\n        });\n      }\n    });\n\n    _defineProperty(this, \"interpretArray\", () => {\n      var result = {};\n\n      for (var j = 0; j < this.state.idbdata.length; j++) {\n        result[this.state.idbdata[j]] = 1;\n      }\n\n      var cat1 = \"interpreter3\";\n\n      if (this.state.icategory[0] === \"incident\") {\n        cat1 = \"interpreter2\";\n      }\n\n      if (this.state.icategory[0] === \"demographics\") {\n        cat1 = \"interpreter1\";\n      }\n\n      this.setState({\n        ajaxLoading: true\n      });\n      axios.get('http://localhost:5000/rest/' + cat1 + '/', {\n        params: result\n      }).then(result => {\n        var res = result.data['sums'].sort((a, b) => {\n          return a.Index - b.Index;\n        });\n        this.setState({\n          ajaxLoading: false,\n          iresult: result.data['pred'],\n          idata: result.data['sums'],\n          chartX: res.map(a => a.DAUID),\n          chartY: res.map(b => b.Index)\n        });\n      });\n    });\n\n    _defineProperty(this, \"mutateSource\", src => {\n      this.setState({\n        source: src\n      });\n    });\n\n    _defineProperty(this, \"mutateRange\", range => {\n      this.setState({\n        range: range\n      });\n    });\n\n    _defineProperty(this, \"setStat\", value => {\n      const stat = value;\n      this.setState({\n        stat: stat\n      });\n    });\n\n    _defineProperty(this, \"methodStat\", value => {\n      console.log(value, this.state.stat);\n\n      if (value === \"PCA\") {\n        this.setState({\n          method: 'pca'\n        });\n      } else {\n        this.setState({\n          method: 'lc'\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleHover\", data => {\n      console.log(data.points[0].value);\n      console.log(data.points[0].x);\n      console.log(this.state.chartX[data.points[0].x]);\n      var cdauid = this.state.chartX[data.points[0].x];\n      var indexWeight = this.state.indexWeight;\n\n      for (var key in indexWeight) {\n        indexWeight[key] = 1;\n\n        if (key == cdauid) {\n          indexWeight[key] = 6;\n        }\n      }\n\n      this.setState({\n        indexWeight: indexWeight\n      });\n      console.log(this.state.indexWeight[cdauid]);\n    });\n\n    _defineProperty(this, \"handleDateChange\", value => {\n      this.setState({\n        datequery: value\n      });\n      var res2 = {};\n      res2['d1'] = this.state.datequery + '/01/01';\n      res2['d2'] = this.state.datequery + '/12/31';\n      console.log(res2);\n    });\n\n    this.state = {\n      idisplay: [],\n      idbdata: [],\n      icategory: [],\n      display: [],\n      dbdata: [],\n      source: [],\n      category: [],\n      src: [],\n      range: [],\n      gendic: [],\n      gresult: {},\n      iresult: {},\n      gdata: [],\n      idata: [],\n      stat: \"generate\",\n      chartX: [],\n      chartY: [],\n      ajaxLoading: false,\n      ajaxLoading2: true,\n      indexWeight: {},\n      method: 'lc',\n      datequery: 2005\n    };\n  }\n\n  componentDidMount() {} // handleClick(a,b){\n  //    console.log(a,b);\n  // }\n\n\n  render() {\n    return __jsx(AppProvider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, __jsx(Page, {\n      fullWidth: true,\n      separator: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, __jsx(Layout.Section, {\n      secondary: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, __jsx(Card, {\n      title: \"Indicators\",\n      actions: [{\n        content: 'Manage'\n      }],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, __jsx(Card.Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, __jsx(TextStyle, {\n      variation: \"subdued\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Choose Indicators\"), __jsx(Setting, {\n      onClick: value => this.setStat(value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }), __jsx(MethodSetting, {\n      onClick: methodvalue => this.methodStat(methodvalue),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }), __jsx(TextStyle, {\n      variation: \"subdued\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"Date Period for Indicators\"), __jsx(Ranger, {\n      min: 2005,\n      max: 2017,\n      onChange: value => this.handleDateChange(value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    })), __jsx(Card.Section, {\n      title: \"Items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, __jsx(Scrollable, {\n      shadow: true,\n      style: {\n        height: '40vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, __jsx(App, {\n      onValueChange: (disval, dbval, cat) => this.storeDisplay(disval, dbval, cat),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }))))), __jsx(Layout.Section, {\n      primary: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, __jsx(Maps, {\n      genres: this.state.gresult,\n      gendata: this.state.gdata,\n      ajaxload: this.state.ajaxLoading,\n      intres: this.state.iresult,\n      intdata: this.state.idata,\n      iweight: this.state.indexWeight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    })), __jsx(Layout.Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, __jsx(Stack, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, __jsx(Card, {\n      title: \"Selector\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, __jsx(Card.Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, __jsx(Stack, {\n      spacing: \"loose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, __jsx(Button, {\n      primary: true,\n      onClick: this.generateArray,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Generate\"), __jsx(Button, {\n      primary: true,\n      onClick: this.clearArray,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, \"Clear\"))), __jsx(Card.Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, __jsx(Scrollable, {\n      shadow: true,\n      style: {\n        height: '20vh',\n        width: '45vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, __jsx(Loader, {\n      data: this.state.display,\n      src: this.state.source,\n      cat: this.state.category,\n      source: this.state.src,\n      range: this.state.range,\n      onSourceChange: src => this.mutateSource(src),\n      onRangeChange: range => this.mutateRange(range),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    })))), __jsx(Card, {\n      title: \"Interpreters\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, __jsx(Card.Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, __jsx(Stack, {\n      spacing: \"loose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, __jsx(Button, {\n      primary: true,\n      onClick: this.interpretArray,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, \"Interpret\"), __jsx(Button, {\n      primary: true,\n      onClick: this.clearArray2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, \"clear\"))), __jsx(Card.Section, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, __jsx(Scrollable, {\n      shadow: true,\n      style: {\n        height: '20vh',\n        width: '45vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, __jsx(Interpreter, {\n      data: this.state.idisplay,\n      cat: this.state.icategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    })))), __jsx(Card, {\n      title: \"Chart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, __jsx(Scrollable, {\n      shadow: true,\n      style: {\n        height: '32vh',\n        width: '59vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, !this.state.ajaxLoading2 ? __jsx(Rankplot, {\n      chartY: this.state.chartY,\n      ititle: this.state.ititle,\n      onHover: data => this.handleHover(data),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }) : __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, \"Waiting for the load\"))))))));\n  }\n\n}\n\nexport default DashBoard;","map":{"version":3,"sources":["/home/balaji/hello-next/components/DashBoard.js"],"names":["React","AppProvider","Card","Layout","Button","Stack","Scrollable","TextStyle","Page","App","Loader","Interpreter","ArrowUpMinor","axios","Setting","MethodSetting","Ranger","dynamic","Rankplot","ssr","Maps","DashBoard","Component","constructor","props","disval","dbval","cat","state","stat","dbdata2","dbdata","flag","some","val","push","source","display","category2","category","src","range","setState","idbdata","flag2","idisplay","icategory","gresult","gdata","res","i","length","datequery","ajaxLoading","ajaxLoading2","method","get","params","then","result","data","sort","a","b","Index","indexWeight","map","r","DAUID","sx","console","log","chartX","chartY","j","cat1","iresult","idata","value","points","x","cdauid","key","res2","gendic","componentDidMount","render","content","setStat","methodvalue","methodStat","handleDateChange","height","storeDisplay","generateArray","clearArray","width","mutateSource","mutateRange","interpretArray","clearArray2","ititle","handleHover"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '@shopify/polaris/styles.css';\nimport {AppProvider,Card,Layout,Button,Stack,Scrollable, TextStyle, Page} from '@shopify/polaris';\nimport App from './App.js'\nimport Loader from './Loader.js'\nimport Interpreter from './Interpreter.js';\nimport {ArrowUpMinor} from '@shopify/polaris-icons';\nimport axios from 'axios'\nimport Setting from './Setting.js'\nimport MethodSetting from './MethodSetting.js';\nimport Ranger from './Ranger.js'\nimport dynamic from 'next/dynamic'\n// import Maps from './Maps'\nconst Rankplot = dynamic(import('./RankPlot'),{\n  ssr:false\n})\nconst Maps = dynamic(import('./Maps'),{\n  ssr:false\n})\nclass DashBoard extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n             idisplay: [],\n             idbdata: [],\n             icategory: [],\n             display: [],\n             dbdata: [],\n             source: [],\n             category: [],\n             src:[],\n             range:[],\n             gendic:[],\n             gresult:{},\n             iresult:{},\n             gdata:[],\n             idata:[],\n             stat:\"generate\",\n             chartX:[],\n             chartY:[],\n             ajaxLoading:false,\n             ajaxLoading2:true,\n             indexWeight:{},\n             method:'lc',\n             datequery:2005\n        }\n    }\n\n    componentDidMount(){\n\n        \n    }\n\n    // handleClick(a,b){\n    //    console.log(a,b);\n    // }\n    \n    storeDisplay = (disval,dbval,cat) => {\n\n        if(this.state.stat===\"generate\"){\n    \n            const dbdata2=this.state.dbdata;\n            const flag=dbdata2.some(val => val === dbval);\n            //console.log(flag);\n\n            \n            if(!flag){\n              const dbdata=this.state.dbdata;\n              dbdata.push(dbval);\n              const source=this.state.source;\n              source.push(ArrowUpMinor)\n              const display=this.state.display;\n              display.push(disval);\n              const category2=this.state.category;\n              category2.push(cat);\n              const src=this.state.src;\n              src.push(1);\n              const range=this.state.range;\n              range.push(0);\n              this.setState({\n                  display: display,\n                  dbdata: dbdata,\n                  source:source,\n                  src:src,\n                  category:category2,\n                  range:range\n              });\n          }\n      }\n      else{\n          \n          const idbdata=this.state.idbdata;\n          const flag2=idbdata.some(val => val === dbval);\n          if(!flag2){\n              const idbdata=this.state.idbdata;\n              idbdata.push(dbval);\n              const idisplay=this.state.idisplay;\n              idisplay.push(disval);\n              const icategory=this.state.icategory;\n              icategory.push(cat);\n              this.setState({\n                 idbdata:idbdata,\n                 idisplay:idisplay,\n                 icategory:icategory\n              });\n          }\n          \n\n      }\n      \n     \n    };\n    clearArray = () =>{\n       \n       const display=[];\n       const dbdata=[];\n       const source=[];\n       const category=[];\n       const src=[];\n       const range=[];\n       const gresult={};\n       const gdata=[];\n       this.setState({display:display,dbdata:dbdata,source:source,category:category,src:src,range:range,gresult:gresult,gdata:gdata});\n    };\n\n    clearArray2 = () => {\n\n        const idbdata=[];\n        const idisplay=[];\n        const icategory=[];\n        this.setState({idbdata:idbdata,idisplay:idisplay,icategory:icategory})\n    }\n\n    generateArray = () => {\n      \n   \n      var res={};\n      for(var i=0;i<this.state.dbdata.length;i++){\n          res[this.state.dbdata[i]]=(this.state.range[i])*(this.state.src[i]);\n      }\n      \n      // console.log(res);\n      var cat=\"index\";\n      if(this.state.category[0]==\"crime\"){\n        res['d1']=this.state.datequery+'/01/01'\n        res['d2']=this.state.datequery+'/12/31'\n      }\n      if(this.state.category[0]===\"incident\"){\n          cat=\"incident\"\n      }\n      if(this.state.category[0]===\"demographics\"){\n          cat=\"dindex\"\n      }\n      this.setState({\n          ajaxLoading:true,\n          ajaxLoading2:true\n      })\n      if(this.state.method==='lc'){\n        axios.get('http://localhost:5000/rest/'+cat+'/',{params:res})\n        .then(result => {\n          //console.log(result.data['resu2']);\n          var res=result.data['sums'].sort((a,b) => {\n            return a.Index-b.Index\n          })\n\n          var indexWeight={}\n          res.map((r)=>{indexWeight[r.DAUID]=1})\n          var sx=res.map((r)=>r.DAUID)\n          console.log(indexWeight,sx);\n\n          this.setState(\n\n            {\n               ajaxLoading:false,\n               ajaxLoading2:false,\n               gresult:result.data['resu2'],\n               gdata:result.data['sums'],\n               indexWeight:indexWeight,\n               chartX:res.map((a)=>a.DAUID),\n               chartY:res.map((b)=>b.Index)\n            }\n            \n          )\n        \n        })\n      }\n      else{\n        console.log(\"in crimepca method\")\n\n        axios.get('http://localhost:5000/rest/crimepca/',{params:res})\n        .then(result => {\n          //console.log(result.data['resu2']);\n          var res=result.data['sums'].sort((a,b) => {\n            return a.Index-b.Index\n          })\n\n          var indexWeight={}\n          res.map((r)=>{indexWeight[r.DAUID]=1})\n          var sx=res.map((r)=>r.DAUID)\n          console.log(indexWeight,sx);\n\n          this.setState(\n\n            {\n               ajaxLoading:false,\n               ajaxLoading2:false,\n               gresult:result.data['resu2'],\n               gdata:result.data['sums'],\n               indexWeight:indexWeight,\n               chartX:res.map((a)=>a.DAUID),\n               chartY:res.map((b)=>b.Index)\n            }\n            \n          )\n        \n        })\n\n\n      }\n\n    };\n\n    interpretArray = () => {\n      var result={};\n      for(var j=0;j<this.state.idbdata.length;j++){\n\n          result[this.state.idbdata[j]]=1;\n\n      }\n      var cat1=\"interpreter3\";\n      if(this.state.icategory[0]===\"incident\"){\n          cat1=\"interpreter2\"\n      }\n      if(this.state.icategory[0]===\"demographics\"){\n          cat1=\"interpreter1\"\n      }\n      this.setState({\n        ajaxLoading:true\n      })\n      axios.get('http://localhost:5000/rest/'+cat1+'/',{params:result})\n        .then(result => {\n\n          var res=result.data['sums'].sort((a,b) => {\n            return a.Index-b.Index\n          })\n         \n          this.setState({\n\n              ajaxLoading:false,\n              iresult:result.data['pred'],\n              idata:result.data['sums'],\n              chartX:res.map((a)=>a.DAUID),\n              chartY:res.map((b)=>b.Index)\n          });\n\n        })\n\n    };\n\n    mutateSource =(src) => {\n\n      this.setState({\n        source:src\n      });\n    }\n    mutateRange =(range) => {\n\n       this.setState({\n          range:range\n       });\n    }\n\n    setStat = (value) => {\n      const stat=value;\n     \n       this.setState({\n          stat:stat\n       });\n    }\n\n    methodStat = (value) => {\n\n        console.log(value,this.state.stat);\n        if(value===\"PCA\"){\n            this.setState({\n              method:'pca'\n            })\n        }\n        else{\n          this.setState({\n              method:'lc'\n          })\n        }\n    }\n    handleHover = (data) => {\n       console.log(data.points[0].value);\n       console.log(data.points[0].x);\n       console.log(this.state.chartX[data.points[0].x]);\n       var cdauid=this.state.chartX[data.points[0].x];\n       var indexWeight=this.state.indexWeight\n       for (var key in indexWeight){\n           indexWeight[key]=1\n           if(key==cdauid){\n              indexWeight[key]=6\n           }\n       }\n       this.setState({\n          indexWeight:indexWeight\n       })\n       console.log(this.state.indexWeight[cdauid]);\n    }\n    handleDateChange= (value) => {\n\n        this.setState({\n\n           datequery:value\n        })\n        var res2={}\n        res2['d1']=this.state.datequery+'/01/01'\n        res2['d2']=this.state.datequery+'/12/31'\n        console.log(res2);\n    }\n\n  render(){\n   \n   return(\n  <AppProvider>\n  <Page fullWidth={true} separator>\n  <Layout>\n  <Layout.Section secondary>\n    \n    <Card title=\"Indicators\" actions={[{content: 'Manage'}]}>\n      <Card.Section>\n        <TextStyle variation=\"subdued\">Choose Indicators</TextStyle>\n        \n        \n        <Setting onClick={(value)=>this.setStat(value)}/>\n        <MethodSetting onClick={(methodvalue)=>this.methodStat(methodvalue)}/>\n        <TextStyle variation=\"subdued\">Date Period for Indicators</TextStyle>\n        <Ranger min={2005} max={2017} onChange={(value)=>this.handleDateChange(value)}/>\n      </Card.Section>\n      <Card.Section title=\"Items\">\n      <Scrollable shadow style={{height: '40vh'}}>\n          <App onValueChange={(disval,dbval,cat)=>this.storeDisplay(disval,dbval,cat)}/>\n       </Scrollable>\n      </Card.Section>\n    </Card>\n  </Layout.Section>\n  <Layout.Section primary>\n  <Maps genres={this.state.gresult} gendata={this.state.gdata} ajaxload={this.state.ajaxLoading} intres={this.state.iresult} intdata={this.state.idata} iweight={this.state.indexWeight}/>\n\n  </Layout.Section>\n  <Layout.Section>\n    <Stack>\n    <Card title=\"Selector\">\n      <Card.Section>\n        <Stack spacing=\"loose\">\n        <Button primary onClick={this.generateArray}>Generate</Button>\n        <Button primary onClick={this.clearArray}>Clear</Button>\n        </Stack>\n      </Card.Section>\n      <Card.Section>\n       <Scrollable shadow style={{height: '20vh',width:'45vh'}}>\n         <Loader data={this.state.display} src={this.state.source} cat={this.state.category} source={this.state.src} range={this.state.range} onSourceChange={(src)=>this.mutateSource(src)} onRangeChange={(range)=> this.mutateRange(range)}/>\n       </Scrollable>\n      </Card.Section>\n    </Card>\n    <Card title=\"Interpreters\">\n      <Card.Section>\n        <Stack spacing=\"loose\">\n        <Button primary onClick={this.interpretArray}>Interpret</Button>\n        <Button primary onClick={this.clearArray2}>clear</Button>\n        </Stack>\n      </Card.Section>\n      <Card.Section>\n      <Scrollable shadow style={{height: '20vh',width:'45vh'}}>\n          <Interpreter data={this.state.idisplay} cat={this.state.icategory} />\n       </Scrollable>\n      </Card.Section>\n    </Card>\n      <Card title=\"Chart\">\n      <Scrollable shadow style={{height: '32vh',width:'59vh'}}>\n      {(!this.state.ajaxLoading2)?(<Rankplot chartY={this.state.chartY} ititle={this.state.ititle} onHover={(data)=>this.handleHover(data)}/>):(<p>Waiting for the load</p>)}\n      </Scrollable>\n      </Card>\n  </Stack>\n  </Layout.Section>\n  {/* <Maps genres={this.state.gresult} gendata={this.state.gdata} ajaxload={this.state.ajaxLoading} intres={this.state.iresult} intdata={this.state.idata}/> */}\n     \n</Layout>\n</Page>\n</AppProvider>\n   );\n  }\n}\n\nexport default DashBoard;"]},"metadata":{},"sourceType":"module"}